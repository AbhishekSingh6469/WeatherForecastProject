<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Forecast</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    .home-bg {
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    }
    .sunny-bg {
      background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
    }
    .cloudy-bg {
      background: linear-gradient(135deg, #8e9eab 0%, #eef2f3 100%);
    }
    .rainy-bg {
      background: linear-gradient(135deg, #3a7bd5 0%, #3a6073 100%);
    }
    .stormy-bg {
      background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
    }
    .snowy-bg {
      background: linear-gradient(135deg, #e6dada 0%, #274046 100%);
    }
    .weather-card {
      backdrop-filter: blur(10px);
      background-color: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .forecast-card {
      backdrop-filter: blur(8px);
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.15);
      transition: all 0.3s ease;
    }
    .forecast-card:hover {
      transform: translateY(-5px);
      background-color: rgba(255, 255, 255, 0.2);
    }
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .slide-in {
      animation: slideIn 0.5s ease-out;
    }
    @keyframes slideIn {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Weather icons as SVGs
    const WeatherIcons = {
      sunny: (
        <svg xmlns="http://www.w3.org/2000/svg" className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <circle cx="12" cy="12" r="5"></circle>
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
      ),
      cloudy: (
        <svg xmlns="http://www.w3.org/2000/svg" className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>
        </svg>
      ),
      rainy: (
        <svg xmlns="http://www.w3.org/2000/svg" className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>
          <line x1="8" y1="16" x2="8.01" y2="16"></line>
          <line x1="8" y1="20" x2="8.01" y2="20"></line>
          <line x1="12" y1="18" x2="12.01" y2="18"></line>
          <line x1="12" y1="22" x2="12.01" y2="22"></line>
          <line x1="16" y1="16" x2="16.01" y2="16"></line>
          <line x1="16" y1="20" x2="16.01" y2="20"></line>
        </svg>
      ),
      stormy: (
        <svg xmlns="http://www.w3.org/2000/svg" className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path>
          <polyline points="13 11 9 17 15 17 11 23"></polyline>
        </svg>
      ),
      snowy: (
        <svg xmlns="http://www.w3.org/2000/svg" className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path>
          <line x1="8" y1="16" x2="8.01" y2="16"></line>
          <line x1="8" y1="20" x2="8.01" y2="20"></line>
          <line x1="12" y1="18" x2="12.01" y2="18"></line>
          <line x1="12" y1="22" x2="12.01" y2="22"></line>
          <line x1="16" y1="16" x2="16.01" y2="16"></line>
          <line x1="16" y1="20" x2="16.01" y2="20"></line>
        </svg>
      ),
      partlyCloudy: (
        <svg xmlns="http://www.w3.org/2000/svg" className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <path d="M12 2v2"></path>
          <path d="M12 20v2"></path>
          <path d="m4.93 4.93 1.41 1.41"></path>
          <path d="m17.66 17.66 1.41 1.41"></path>
          <path d="M2 12h2"></path>
          <path d="M20 12h2"></path>
          <path d="m6.34 17.66-1.41 1.41"></path>
          <path d="m19.07 4.93-1.41 1.41"></path>
          <path d="M10 16a4 4 0 1 1 8 0"></path>
          <path d="M16 16a4 4 0 0 0-8 0"></path>
          <path d="M17 18a5 5 0 0 0-10 0"></path>
          <path d="M18 20H6"></path>
        </svg>
      )
    };

    // Popular cities with their images
    const popularCities = [
      { name: "New York", image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23333'/%3E%3Cpath d='M20 90V40h10V90M40 90V30h20V90M70 90V50h10V90M10 90h80' stroke='white' stroke-width='2' fill='none'/%3E%3C/svg%3E" },
      { name: "London", image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23333'/%3E%3Cpath d='M50 10v30M40 20h20M30 40h40v50H30z' stroke='white' stroke-width='2' fill='none'/%3E%3Ccircle cx='50' cy='60' r='10' stroke='white' stroke-width='2' fill='none'/%3E%3C/svg%3E" },
      { name: "Tokyo", image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23333'/%3E%3Cpath d='M30 90V40h40v50M40 40V20l20 0v20' stroke='white' stroke-width='2' fill='none'/%3E%3C/svg%3E" },
      { name: "Sydney", image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23333'/%3E%3Cpath d='M50 10v30M30 30l40 0M40 40v50M60 40v50' stroke='white' stroke-width='2' fill='none'/%3E%3C/svg%3E" }
    ];

    function HomePage({ onSearch }) {
      const [searchInput, setSearchInput] = useState('');
      
      const handleSearch = (e) => {
        e.preventDefault();
        if (searchInput.trim()) {
          onSearch(searchInput);
        }
      };

      const handleCityClick = (cityName) => {
        onSearch(cityName);
      };

      return (
        <div className="home-bg min-h-screen flex flex-col">
          <div className="container mx-auto px-4 py-12 flex-grow flex flex-col justify-center items-center">
            <div className="text-center mb-12 slide-in">
              <h1 className="text-5xl md:text-6xl font-bold text-white mb-4">Weather Forecast</h1>
              <p className="text-xl text-white text-opacity-80">Get accurate weather forecasts for any location</p>
            </div>
            
            <div className="w-full max-w-md mx-auto mb-12 fade-in" style={{animationDelay: '0.2s'}}>
              <form onSubmit={handleSearch} className="flex shadow-lg rounded-lg overflow-hidden">
                <input
                  type="text"
                  placeholder="Enter city name..."
                  value={searchInput}
                  onChange={(e) => setSearchInput(e.target.value)}
                  className="flex-grow px-6 py-4 text-lg focus:outline-none"
                />
                <button 
                  type="submit" 
                  className="bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-8 py-4 font-medium transition-colors"
                >
                  Search
                </button>
              </form>
            </div>
            
            <div className="w-full max-w-4xl mx-auto fade-in" style={{animationDelay: '0.4s'}}>
              <h2 className="text-2xl font-semibold text-white mb-6 text-center">Popular Cities</h2>
              <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                {popularCities.map((city, index) => (
                  <div 
                    key={index} 
                    className="bg-white bg-opacity-10 rounded-xl p-4 cursor-pointer hover:bg-opacity-20 transition-all transform hover:scale-105"
                    onClick={() => handleCityClick(city.name)}
                  >
                    <div className="aspect-square mb-3 rounded-lg overflow-hidden bg-gray-800">
                      <img 
                        src={city.image} 
                        alt={city.name} 
                        className="w-full h-full object-cover"
                      />
                    </div>
                    <h3 className="text-white text-center font-medium">{city.name}</h3>
                  </div>
                ))}
              </div>
            </div>
          </div>
          
          <footer className="py-6 text-center text-white text-opacity-70">
            <p>Â© {new Date().getFullYear()} Weather Forecast App</p>
          </footer>
        </div>
      );
    }

    function WeatherPage({ city, onBack }) {
      const [weather, setWeather] = useState(null);
      const [forecast, setForecast] = useState([]);
      const [isLoading, setIsLoading] = useState(true);
      const [error, setError] = useState(null);
      const [unit, setUnit] = useState('F');

      // Simulate weather data fetching
      useEffect(() => {
        setIsLoading(true);
        setError(null);
        
        // Simulate API call with timeout
        setTimeout(() => {
          try {
            // Generate random weather data based on city name
            const cityHash = city.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
            const conditions = ['sunny', 'cloudy', 'rainy', 'partlyCloudy', 'stormy', 'snowy'];
            const conditionNames = ['Sunny', 'Cloudy', 'Rainy', 'Partly Cloudy', 'Stormy', 'Snowy'];
            
            const conditionIndex = cityHash % conditions.length;
            const baseTemp = 50 + (cityHash % 50); // Temperature between 50-100Â°F
            
            setWeather({
              temp: baseTemp,
              condition: conditionNames[conditionIndex],
              humidity: 30 + (cityHash % 60),
              windSpeed: 5 + (cityHash % 20),
              pressure: 1000 + (cityHash % 30),
              visibility: 5 + (cityHash % 10),
              icon: conditions[conditionIndex]
            });
            
            // Generate forecast
            const newForecast = [];
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            const today = new Date().getDay();
            
            for (let i = 0; i < 7; i++) {
              const dayIndex = (today + i) % 7;
              const tempVariation = Math.floor(Math.random() * 15) - 7; // -7 to +7 degrees
              const condIndex = (conditionIndex + i) % conditions.length;
              
              newForecast.push({
                day: days[dayIndex],
                temp: baseTemp + tempVariation,
                icon: conditions[(condIndex + i) % conditions.length]
              });
            }
            
            setForecast(newForecast);
            setIsLoading(false);
          } catch (err) {
            setError("Failed to fetch weather data. Please try again.");
            setIsLoading(false);
          }
        }, 1000);
      }, [city]);

      // Toggle temperature unit
      const toggleUnit = () => {
        setUnit(unit === 'F' ? 'C' : 'F');
      };

      // Convert temperature based on selected unit
      const convertTemp = (temp) => {
        if (unit === 'C') {
          return Math.round((temp - 32) * 5/9);
        }
        return Math.round(temp);
      };

      // Get background class based on weather condition
      const getBackgroundClass = () => {
        if (!weather) return 'home-bg';
        
        switch(weather.icon) {
          case 'sunny': return 'sunny-bg';
          case 'cloudy': return 'cloudy-bg';
          case 'rainy': return 'rainy-bg';
          case 'stormy': return 'stormy-bg';
          case 'snowy': return 'snowy-bg';
          case 'partlyCloudy': return 'cloudy-bg';
          default: return 'home-bg';
        }
      };

      return (
        <div className={`min-h-screen ${getBackgroundClass()} transition-all duration-1000`}>
          <div className="container mx-auto px-4 py-8">
            <div className="flex justify-between items-center mb-8">
              <button 
                onClick={onBack}
                className="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg flex items-center transition-all"
              >
                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                  <path fillRule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clipRule="evenodd" />
                </svg>
                Back
              </button>
              <h1 className="text-3xl font-bold text-white">{city}</h1>
              <button 
                onClick={toggleUnit} 
                className="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-all"
              >
                Â°{unit === 'F' ? 'C' : 'F'}
              </button>
            </div>

            {isLoading ? (
              <div className="flex justify-center items-center h-64">
                <div className="animate-spin rounded-full h-16 w-16 border-t-4 border-white"></div>
              </div>
            ) : error ? (
              <div className="text-center py-12 weather-card rounded-2xl">
                <p className="text-xl text-white">{error}</p>
                <button 
                  onClick={onBack} 
                  className="mt-4 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-white"
                >
                  Go Back
                </button>
              </div>
            ) : (
              <>
                {/* Current Weather */}
                <div className="weather-card rounded-2xl p-6 mb-8 text-white shadow-xl slide-in">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div className="flex flex-col justify-center items-center">
                      <div className="text-7xl font-bold mb-2">
                        {convertTemp(weather.temp)}Â°{unit}
                      </div>
                      <p className="text-2xl mb-4">{weather.condition}</p>
                      <p className="text-lg opacity-80">
                        {new Date().toLocaleDateString('en-US', { 
                          weekday: 'long', 
                          year: 'numeric', 
                          month: 'long', 
                          day: 'numeric' 
                        })}
                      </p>
                    </div>
                    <div className="flex flex-col justify-center">
                      <div className="flex items-center mb-6">
                        <div className="w-24 h-24 text-white">
                          {WeatherIcons[weather.icon]}
                        </div>
                        <div className="ml-4">
                          <div className="mb-3">
                            <span className="text-white text-opacity-80">Humidity</span>
                            <p className="text-xl font-semibold">{weather.humidity}%</p>
                          </div>
                          <div>
                            <span className="text-white text-opacity-80">Wind Speed</span>
                            <p className="text-xl font-semibold">{weather.windSpeed} mph</p>
                          </div>
                        </div>
                      </div>
                      <div className="grid grid-cols-2 gap-4">
                        <div>
                          <span className="text-white text-opacity-80">Pressure</span>
                          <p className="text-lg font-semibold">{weather.pressure} hPa</p>
                        </div>
                        <div>
                          <span className="text-white text-opacity-80">Visibility</span>
                          <p className="text-lg font-semibold">{weather.visibility} km</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                {/* 7-Day Forecast */}
                <h3 className="text-2xl font-bold text-white mb-4">7-Day Forecast</h3>
                <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-4 fade-in" style={{animationDelay: '0.3s'}}>
                  {forecast.map((day, index) => (
                    <div key={index} className="forecast-card rounded-xl p-4 text-white text-center shadow-lg" style={{animationDelay: `${0.1 * index}s`}}>
                      <h4 className="font-bold mb-2">{day.day}</h4>
                      <div className="w-12 h-12 mx-auto mb-2 text-white">
                        {WeatherIcons[day.icon]}
                      </div>
                      <p className="text-xl font-semibold">{convertTemp(day.temp)}Â°{unit}</p>
                    </div>
                  ))}
                </div>

                {/* Hourly Forecast */}
                <h3 className="text-2xl font-bold text-white mt-10 mb-4">Hourly Forecast</h3>
                <div className="weather-card rounded-2xl p-6 text-white shadow-xl overflow-x-auto fade-in" style={{animationDelay: '0.5s'}}>
                  <div className="flex space-x-6 min-w-max">
                    {[...Array(24)].map((_, index) => {
                      const hour = new Date();
                      hour.setHours(hour.getHours() + index);
                      const tempVariation = Math.floor(Math.random() * 8) - 4;
                      const hourlyTemp = weather.temp + tempVariation;
                      
                      return (
                        <div key={index} className="flex flex-col items-center">
                          <p className="font-medium">{hour.getHours()}:00</p>
                          <div className="w-8 h-8 my-2 text-white">
                            {WeatherIcons[index % 6 === 0 ? 'partlyCloudy' : weather.icon]}
                          </div>
                          <p className="font-bold">{convertTemp(hourlyTemp)}Â°</p>
                        </div>
                      );
                    })}
                  </div>
                </div>

                {/* Weather Details */}
                <div className="mt-10 grid grid-cols-1 md:grid-cols-2 gap-6 fade-in" style={{animationDelay: '0.7s'}}>
                  {/* Sunrise/Sunset */}
                  <div className="weather-card rounded-2xl p-6 text-white shadow-xl">
                    <h3 className="text-xl font-bold mb-4">Sunrise & Sunset</h3>
                    <div className="flex justify-around items-center">
                      <div className="text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 mx-auto mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        <p className="text-lg font-medium">Sunrise</p>
                        <p className="text-2xl font-bold">6:23 AM</p>
                      </div>
                      <div className="text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 mx-auto mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2" />
                          <circle cx="12" cy="7" r="4" />
                        </svg>
                        <p className="text-lg font-medium">Sunset</p>
                        <p className="text-2xl font-bold">7:45 PM</p>
                      </div>
                    </div>
                  </div>
                  
                  {/* Air Quality */}
                  <div className="weather-card rounded-2xl p-6 text-white shadow-xl">
                    <h3 className="text-xl font-bold mb-4">Air Quality</h3>
                    <div className="mb-4">
                      <div className="flex justify-between mb-2">
                        <span>Air Quality Index</span>
                        <span className="font-bold">Good</span>
                      </div>
                      <div className="w-full bg-white bg-opacity-20 rounded-full h-2.5">
                        <div className="bg-green-400 h-2.5 rounded-full" style={{ width: '25%' }}></div>
                      </div>
                    </div>
                    <div className="grid grid-cols-2 gap-4">
                      <div>
                        <p className="text-white text-opacity-80">PM2.5</p>
                        <p className="font-semibold">12 Î¼g/mÂ³</p>
                      </div>
                      <div>
                        <p className="text-white text-opacity-80">PM10</p>
                        <p className="font-semibold">25 Î¼g/mÂ³</p>
                      </div>
                    </div>
                  </div>
                </div>
              </>
            )}
          </div>
          
          <footer className="py-6 text-center text-white text-opacity-70">
            <p>Â© {new Date().getFullYear()} Weather Forecast App</p>
          </footer>
        </div>
      );
    }

    function App() {
      const [page, setPage] = useState('home');
      const [city, setCity] = useState('');

      const handleSearch = (cityName) => {
        setCity(cityName);
        setPage('weather');
      };

      const handleBack = () => {
        setPage('home');
      };

      return (
        <>
          {page === 'home' ? (
            <HomePage onSearch={handleSearch} />
          ) : (
            <WeatherPage city={city} onBack={handleBack} />
          )}
        </>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'966391d6137559ae',t:'MTc1MzY5NzI0OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
